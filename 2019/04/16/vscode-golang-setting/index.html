<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vscode golang环境配置的一些坑 | NeroBlackstone&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="">
    <link rel="preload" href="/assets/css/0.styles.efb332ed.css" as="style"><link rel="preload" href="/assets/js/app.ec2d5af2.js" as="script"><link rel="preload" href="/assets/js/3.e9bff2d3.js" as="script"><link rel="preload" href="/assets/js/18.1172ae07.js" as="script"><link rel="prefetch" href="/assets/js/10.7e730691.js"><link rel="prefetch" href="/assets/js/11.0a8c3a3b.js"><link rel="prefetch" href="/assets/js/12.e41009b6.js"><link rel="prefetch" href="/assets/js/13.615800ed.js"><link rel="prefetch" href="/assets/js/14.9ff2a10b.js"><link rel="prefetch" href="/assets/js/15.c0f3d8e0.js"><link rel="prefetch" href="/assets/js/16.267a81c0.js"><link rel="prefetch" href="/assets/js/17.85b26636.js"><link rel="prefetch" href="/assets/js/19.02da22ed.js"><link rel="prefetch" href="/assets/js/20.899cfc38.js"><link rel="prefetch" href="/assets/js/21.48a7b777.js"><link rel="prefetch" href="/assets/js/22.ae905edc.js"><link rel="prefetch" href="/assets/js/23.145304b2.js"><link rel="prefetch" href="/assets/js/24.fc9aa772.js"><link rel="prefetch" href="/assets/js/25.5370690c.js"><link rel="prefetch" href="/assets/js/26.4092c0ff.js"><link rel="prefetch" href="/assets/js/27.211a8f61.js"><link rel="prefetch" href="/assets/js/28.7b4de4b7.js"><link rel="prefetch" href="/assets/js/29.443848ae.js"><link rel="prefetch" href="/assets/js/30.8fb8f839.js"><link rel="prefetch" href="/assets/js/31.39c4255a.js"><link rel="prefetch" href="/assets/js/32.6e0fb50b.js"><link rel="prefetch" href="/assets/js/33.919f59b2.js"><link rel="prefetch" href="/assets/js/34.2fd50063.js"><link rel="prefetch" href="/assets/js/35.3dfac06e.js"><link rel="prefetch" href="/assets/js/36.a873c79a.js"><link rel="prefetch" href="/assets/js/37.85faec35.js"><link rel="prefetch" href="/assets/js/38.e83fe327.js"><link rel="prefetch" href="/assets/js/39.6be1856f.js"><link rel="prefetch" href="/assets/js/4.78206645.js"><link rel="prefetch" href="/assets/js/40.93ddf935.js"><link rel="prefetch" href="/assets/js/41.88d92bf1.js"><link rel="prefetch" href="/assets/js/42.b3d6f88b.js"><link rel="prefetch" href="/assets/js/43.1c5dc4d4.js"><link rel="prefetch" href="/assets/js/44.195f887c.js"><link rel="prefetch" href="/assets/js/45.9aec365f.js"><link rel="prefetch" href="/assets/js/46.a1714c92.js"><link rel="prefetch" href="/assets/js/47.07f6e748.js"><link rel="prefetch" href="/assets/js/48.edfe58e7.js"><link rel="prefetch" href="/assets/js/5.290e8a5b.js"><link rel="prefetch" href="/assets/js/6.0be4f557.js"><link rel="prefetch" href="/assets/js/7.df8bc73d.js"><link rel="prefetch" href="/assets/js/8.9882d415.js"><link rel="prefetch" href="/assets/js/9.62493693.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.07834b74.js">
    <link rel="stylesheet" href="/assets/css/0.styles.efb332ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><nav role="navigation" aria-label="main navigation" class="navbar is-primary is-fixed-top"><div class="navbar-brand"><a href="/" to="/" class="navbar-item router-link-active">
        NeroBlackstone's Blog
    </a><a role="button" aria-label="menu" class="navbar-burger burger"><span aria-hidden="true"></span> <span aria-hidden="true"></span> <span aria-hidden="true"></span></a></div><div class="navbar-menu"><div class="navbar-start"></div><div class="navbar-end"><a href="/tag/" to="/tag/" class="navbar-item">Tag</a> <a href="/friends/" to="/friends/" class="navbar-item">Friends</a></div></div></nav> <section class="section"><div class="container"><div class="content__default"><h1 id="vscode-golang环境配置的一些坑"><a href="#vscode-golang环境配置的一些坑" class="header-anchor">#</a> vscode golang环境配置的一些坑</h1> <h2 id="gvm配置坑"><a href="#gvm配置坑" class="header-anchor">#</a> GVM配置坑</h2> <h3 id="第一次安装"><a href="#第一次安装" class="header-anchor">#</a> 第一次安装</h3> <p>首先第一次gvm安装go的话一定要先装go 1.4，因为go1.4之后的版本golang是一个自举的状态（用go编译go），而之前是用c。也就是说你想装go1.4以后的版本，需要先安装一个go1.4。用低版本的go去编译更新版本的go。go1.4在更新的go安装以后，可以删除。</p> <h3 id="默认go版本"><a href="#默认go版本" class="header-anchor">#</a> 默认go版本</h3> <p>首先我是有两个使用GVM安装的go环境，一个1.9（公司环境），一个1.14（自己用）。那么在<code>gvm use go1.x</code>的时候一定要选一个版本使用<code>--default</code>选项来指定是默认版本。如果不这么做，那么打开终端，go命令是无法找到的，需要重新<code>gvm use</code>才能使用go命令。</p> <h2 id="vscode配置坑"><a href="#vscode配置坑" class="header-anchor">#</a> vscode配置坑</h2> <h3 id="tools-gopath"><a href="#tools-gopath" class="header-anchor">#</a> tools gopath</h3> <p>首先，vscode的一些golang相关功能需要你去下一些golang工具才能使用，为了让你的gopath不被这些golang工具所搞乱，它有一个专门指定的tools gopath。但是这个tools gopath不是默认有的，需要自行配置，如果不自行配置，那么他会默认使用当前go版本的gopath。</p> <p>那么在多版本情况下，这个tools gopath能不能随便设置到一个go版本的gopath中呢。答案是不可以，最好指定到最新的go版本的gopath中，并且使用最新的go版本来安装。因为，有一些工具需要更高版本的go来编译，低版本的go无法编译通过。</p> <p>所以，在vs code中，在go插件的，extension settings，搜索tools gopath，填入最新的go版本即可。</p> <h3 id="代码补全，定义跳转等功能失败"><a href="#代码补全，定义跳转等功能失败" class="header-anchor">#</a> 代码补全，定义跳转等功能失败</h3> <p>可以尝试重新安装go工具，方法是在 vscode 中，输入快捷键：command(ctrl) + shift + p，在弹出的窗口中，输入：go:install/Update Tools，回车后，选择所有插件(勾一下全选)，点击确认，进行安装（最好翻墙安装）。接着重启vscode。</p></div> <!----></div></section> <footer class="footer" data-v-29777868><div class="level" data-v-29777868><div class="content level-item has-text-centered" data-v-29777868><div class="field is-grouped-multiline is-grouped" data-v-29777868><!----> <div class="control" data-v-29777868><span class="tag is-primary" data-v-29777868><span><a href="https://github.com/NeroBlackstone" class="has-text-white" data-v-29777868><span class="icon" data-v-29777868><i class="fab fa-github" data-v-29777868></i></span></a></span> <!----></span></div> <div class="control" data-v-29777868><a href="https://v1.vuepress.vuejs.org/" data-v-29777868><div class="tags has-addons" data-v-29777868><span class="tag is-dark" data-v-29777868><span>vuepress</span> <!----></span> <span class="tag is-info" data-v-29777868><span>1.5.0</span> <!----></span></div></a></div><div class="control" data-v-29777868><a href="https://buefy.org/" data-v-29777868><div class="tags has-addons" data-v-29777868><span class="tag is-dark" data-v-29777868><span>buefy</span> <!----></span> <span class="tag is-info" data-v-29777868><span>0.8.20</span> <!----></span></div></a></div> <!----></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ec2d5af2.js" defer></script><script src="/assets/js/3.e9bff2d3.js" defer></script><script src="/assets/js/18.1172ae07.js" defer></script>
  </body>
</html>
